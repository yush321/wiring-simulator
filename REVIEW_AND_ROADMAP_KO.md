# Wiring Simulator 코드 점검 & 개선 로드맵 (한국어)

## 1) 현재 코드 상태 요약
- 현재 앱은 `index.html` 단일 파일에 **UI/CSS/로직/데이터가 모두 결합**되어 있습니다.
- 튜토리얼은 `TUTORIAL_CONFIG` 중심으로 동작하며, 실제 정답 데이터(`DB_ANSWERS`)도 같은 파일 안에 포함되어 있습니다.
- 모바일 대응은 일부 되어 있으나(터치 이벤트 처리), 확장성/유지보수성 측면에서 구조 개선이 시급합니다.

## 2) 지금 가장 먼저 고쳐야 할 핵심 이슈 (우선순위 순)

### P0. 콘텐츠 확장 구조 (1개 도면 → 18개 도면)
- 문제: 현재 데이터 구조가 수작업 입력 중심이라 도면 수가 늘면 수정 비용이 폭증합니다.
- 개선:
  1. `tutorials.json`(튜토리얼 텍스트/이미지/목표 부품)
  2. `layouts.json`(부품 위치/핀맵)
  3. `answers.json`(정답 배선)
  로 분리하고 로더를 만들어야 합니다.
- 기대효과: 콘텐츠 팀이 코드 수정 없이 도면 업데이트 가능.

### P0. 코드 모듈화
- 문제: 하나의 HTML 파일이 너무 커져 디버깅과 기능 추가가 어려움.
- 개선:
  - `src/ui/modal.js`
  - `src/sim/canvas.js`
  - `src/sim/wiring-engine.js`
  - `src/data/repository.js`
  로 분리.
- 기대효과: 기능 단위 테스트 가능, 신규 기능(힌트/자동 피드백) 개발 속도 증가.

### P1. 모바일 UX 최적화
- 문제: 모바일 사용자 비중이 높다고 했는데, 버튼 밀도/화면 구조가 데스크톱 중심입니다.
- 개선:
  - 하단 고정 액션바(초기화/되돌리기/채점)
  - 큰 터치 타겟(최소 44px)
  - 튜토리얼 모달 텍스트 가독성 강화(행간/폰트)
  - 저사양 기기에서 애니메이션/재그리기 최소화
- 기대효과: 실사용 이탈률 감소.

### P1. 학습 성과 기능
- 문제: 초보 사용자 대상인데 학습 추적 기능이 부족.
- 개선:
  - 단계별 체크리스트
  - 오답 이유 설명(어떤 핀이 왜 틀렸는지)
  - 도면별 진도율/완료 배지
- 기대효과: “처음 접하는 사용자”의 완주율 개선.

### P2. 수익화(최소 유료 수익)
- 광고: 정답 제출 후 전면 광고보다, **화면 하단 배너 + 보상형 광고(힌트 1회)** 권장.
- 커머스: “연습 공구/재료 키트”를 도면별 추천으로 연결.
- 구독 소액: 광고 제거 + 고급 해설(배선 실수 패턴 분석).

### P2. 배포 전략
- 웹 + 모바일 모두 대응을 위해:
  - 웹: PWA(오프라인 캐시, 홈 화면 추가)
  - 모바일: Capacitor 또는 React Native/WebView 래핑
- 단일 코드베이스 유지가 비용 효율적.

## 3) 4주 실행 계획 (현실적인 버전)

### 1주차
- 데이터 스키마 설계 (`tutorials/layouts/answers` 분리)
- 단일 파일에서 JS/CSS 분리

### 2주차
- 모바일 레이아웃 개편
- 튜토리얼 모달 UX 개선

### 3주차
- 학습 진도 저장(로컬스토리지)
- 오답 피드백 로직 고도화

### 4주차
- 광고/커머스 진입점 추가(과하지 않게)
- PWA 적용 및 성능 점검

## 4) 품질 기준(권장)
- Lighthouse 모바일 성능 80+ 목표
- 주요 동작(배선/채점/리셋/되돌리기) 회귀 체크리스트 운영
- 도면 추가 시 “데이터만 수정” 원칙 준수

## 5) 결론
- 지금은 “아이디어 검증 단계”를 넘어 “운영 가능한 제품 구조”로 넘어가야 할 시점입니다.
- 핵심은 **도면 확장 가능한 데이터 구조 + 모바일 최적화 + 초보 학습 UX + 최소 수익화 동선**입니다.
- 위 순서로 가면 18개 도면 확장과 상용화 가능성이 동시에 올라갑니다.
